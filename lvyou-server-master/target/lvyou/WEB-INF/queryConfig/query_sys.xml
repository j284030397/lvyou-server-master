<?xml version="1.0" encoding="UTF-8"?>
<!-- 系统内部 -->
<QUERY>
<!-- SystemCodeValue_Get_MaxSeqNO
add by yuqy
查找代码集ID 和代码项的ID 的子集最大的等长编码
 -->
	<SELECT ID="SystemCodeValue_Get_MaxSeqNO">
		<QUERY-TABLE>T_SYS_SYSTEMCODEVALUE</QUERY-TABLE>
		<FIELD>MAX(SeqNo) AS MaxSeqNo</FIELD>
		<WHERE>CodeID = :CodeID AND ParentCodeID = :ParentCodeID</WHERE>
		<GROUP-BY></GROUP-BY>
		<ORDER-BY></ORDER-BY>
	</SELECT>
<!-- SystemCodeValue_Get_ListByCodeValue
add by yuqy
用于根据代码集的值查找相关的代码项
 -->
	<SELECT ID="SystemCodeValue_Get_ListByCodeValue">
		<QUERY-TABLE>T_SYS_SYSTEMCODEVALUE</QUERY-TABLE>
		<FIELD>itemName AS name, itemValue AS id</FIELD>
		<WHERE>(CodeID in
(
SELECT id FROM T_SYS_SYSTEMCODE
    WHERE CodeValue = ':key'))</WHERE>
		<GROUP-BY></GROUP-BY>
		<ORDER-BY>SortNo</ORDER-BY>
	</SELECT>

	<!--
	根据角色编号获取角色岗位关系表信息 
	 -->
	<SELECT ID="SYSROLEPOSTASS_GET_DATABYROLEID">
		<QUERY-TABLE>
			T_SYS_ROLEPOESTASS, 
			T_SYS_ROLE, 
			T_SYS_POST, 
			T_SYS_DEPT, 
			T_SYS_ORG
		</QUERY-TABLE>
		<FIELD>
			T_SYS_ROLEPOESTASS.ID AS id, 
			T_SYS_POST.NAME AS postName, 
			T_SYS_DEPT.NAME AS deptName,
			T_SYS_ORG.NAME AS orgName,
			T_SYS_ROLE.ROLENAME roleName
		</FIELD>
		<WHERE>
			T_SYS_ROLE.ID = :roldId 
			AND 
			T_SYS_ROLEPOESTASS.ROLEID = T_SYS_ROLE.ID
			AND 
			T_SYS_ROLEPOESTASS.POSTID = T_SYS_POST.ID
			AND 
			T_SYS_POST.DEPTID = T_SYS_DEPT.ID
			AND 
			T_SYS_DEPT.ORGID = T_SYS_ORG.ID
		</WHERE>
		<GROUP-BY></GROUP-BY>
		<ORDER-BY></ORDER-BY>
	</SELECT>
	
	<!-- 获取用户所有资源权限 -->
	<SELECT ID="SYSLOGIN_GET_RESOURCEBYUSERID">
		<QUERY-TABLE>
		T_SYS_ROLEOWNERSHIP, T_SYS_ALLOTPOWER, T_SYS_RESOURCE 
		</QUERY-TABLE>
		<FIELD>
		DISTINCT(T_SYS_ALLOTPOWER.resourceCode) AS resourceCode, 
		T_SYS_ALLOTPOWER.powerId AS powerId, 
		T_SYS_RESOURCE.name AS name, 
		T_SYS_RESOURCE.depth AS depth, 
		T_SYS_RESOURCE.url AS url, 
		T_SYS_RESOURCE.parentCode AS parentCode,
		T_SYS_RESOURCE.TYPE AS type,
		T_SYS_RESOURCE.TXNCODE AS txnCode,
        T_SYS_RESOURCE.CODE AS code
		</FIELD>
		<WHERE>
		T_SYS_ROLEOWNERSHIP.USERID=:userId
		AND
		T_SYS_ROLEOWNERSHIP.ROLEID=T_SYS_ALLOTPOWER.ROLEID
		AND
		T_SYS_ALLOTPOWER.RESOURCECODE=T_SYS_RESOURCE.TXNCODE
		</WHERE>
		<GROUP-BY></GROUP-BY>
		<ORDER-BY>
		T_SYS_RESOURCE.CODE ASC
		</ORDER-BY> 
	</SELECT>
	
	<!-- 获取指定角色的所有资源权限 -->
	<SELECT ID="SYSLOGIN_GET_RESOURCEBYROLEID">
		<QUERY-TABLE>
		T_SYS_ALLOTPOWER, T_SYS_RESOURCE 
		</QUERY-TABLE>
		<FIELD>
		DISTINCT(T_SYS_ALLOTPOWER.resourceCode) AS resourceCode, 
		T_SYS_ALLOTPOWER.powerId AS powerId, 
		T_SYS_RESOURCE.name AS name, 
		T_SYS_RESOURCE.depth AS depth, 
		T_SYS_RESOURCE.url AS url, 
		T_SYS_RESOURCE.parentCode AS parentCode,
		T_SYS_RESOURCE.TYPE AS type,
		T_SYS_RESOURCE.TXNCODE AS txnCode
		</FIELD>
		<WHERE>
		T_SYS_ALLOTPOWER.ROLEID=:roleId
		AND
		T_SYS_ALLOTPOWER.RESOURCECODE=T_SYS_RESOURCE.TXNCODE
		</WHERE>
		<GROUP-BY></GROUP-BY>
		<ORDER-BY>
		T_SYS_ALLOTPOWER.RESOURCECODE ASC
		</ORDER-BY> 
	</SELECT>
	<!-- 根据角色编号获取未加入的岗位列表 -->	
	<SELECT ID="SYSPOST_GET_NOT_ALLOTPOST">
		<QUERY-TABLE>T_SYS_POST</QUERY-TABLE>
		<FIELD>
		T_SYS_POST.ID AS id,
		T_SYS_POST.NAME AS name
		</FIELD>
		<WHERE>
		T_SYS_POST.DEPTID = :deptId 
		AND
		T_SYS_POST.ID NOT IN 
		(
		    SELECT 
		    T_SYS_ROLEPOESTASS.POSTID 
		    FROM 
		    T_SYS_ROLEPOESTASS 
		    WHERE 
		    T_SYS_ROLEPOESTASS.ROLEID = :roleId
		)
		</WHERE>
		<GROUP-BY></GROUP-BY>
		<ORDER-BY></ORDER-BY>
	</SELECT>
	
	<!--根据用户编号获取角色岗位关系表信息-->
	<SELECT ID="SYSPOSTOWNERSHIP_GET_DATABYUSERID">
		<QUERY-TABLE>
			T_SYS_POSTOWNERSHIP,
			T_SYS_POST, 
			T_SYS_DEPT, 
			T_SYS_ORG
		</QUERY-TABLE>
		<FIELD>
			T_SYS_POSTOWNERSHIP.ID AS id, 
			T_SYS_POST.NAME AS postName, 
			T_SYS_DEPT.NAME AS deptName,
			T_SYS_ORG.NAME AS orgName
		</FIELD>
		<WHERE>
			T_SYS_POSTOWNERSHIP.USERID = :userId 
			AND 
			T_SYS_POSTOWNERSHIP.POSTID = T_SYS_POST.ID
			AND 
			T_SYS_POST.DEPTID = T_SYS_DEPT.ID
			AND 
			T_SYS_DEPT.ORGID = T_SYS_ORG.ID
		</WHERE>
		<GROUP-BY></GROUP-BY>
		<ORDER-BY></ORDER-BY>
	</SELECT>
	<!-- 根据用户编号获取未加入的岗位列表 -->	
	<SELECT ID="SYSPOST_GET_NOT_ALLPOSTFORUP">
		<QUERY-TABLE>T_SYS_POST</QUERY-TABLE>
		<FIELD>
		T_SYS_POST.ID AS id,
		T_SYS_POST.NAME AS name
		</FIELD>
		<WHERE>
		T_SYS_POST.DEPTID = :deptId 
		AND
		T_SYS_POST.ID NOT IN 
		(
		    SELECT 
		    T_SYS_POSTOWNERSHIP.POSTID
		    FROM 
		    T_SYS_POSTOWNERSHIP 
		    WHERE 
		    T_SYS_POSTOWNERSHIP.USERID = :userId
		)
		</WHERE>
		<GROUP-BY></GROUP-BY>
		<ORDER-BY></ORDER-BY>
	</SELECT>
	
	
	<!-- 根据用户编号获取与之绑定的角色列表 -->	
	<SELECT ID="SYSROLEOWNERSHIP_GET_ROLENAMELIST">
		<QUERY-TABLE>T_SYS_ROLE, T_SYS_ROLEOWNERSHIP</QUERY-TABLE>
		<FIELD>
		T_SYS_ROLEOWNERSHIP.ID AS id, 
		T_SYS_ROLEOWNERSHIP.USERID AS userId,
		T_SYS_ROLEOWNERSHIP.ROLEID AS roleId,
		T_SYS_ROLE.ROLENAME AS roleName
		</FIELD>
		<WHERE>
		T_SYS_ROLEOWNERSHIP.USERID = :userId
		AND
		T_SYS_ROLEOWNERSHIP.ROLEID = T_SYS_ROLE.ID
		</WHERE>
		<GROUP-BY></GROUP-BY>
		<ORDER-BY></ORDER-BY>
	</SELECT>
	
	<!-- 根据角色编号获取与之绑定的用户列表 -->	
	<SELECT ID="SYSROLEOWNERSHIP_GET_USERNAMELIST">
		<QUERY-TABLE>T_SYS_USER, T_SYS_ROLEOWNERSHIP</QUERY-TABLE>
		<FIELD>
		T_SYS_ROLEOWNERSHIP.ID AS id, 
		T_SYS_ROLEOWNERSHIP.USERID AS userId,
		T_SYS_ROLEOWNERSHIP.ROLEID AS roleId,
		T_SYS_USER.USERNAME AS userName,
		T_SYS_USER.ORGID AS orgId,
		T_SYS_USER.WORKDEPTID AS deptId
		</FIELD>
		<WHERE>
		T_SYS_ROLEOWNERSHIP.ROLEID = :roleId
		AND
		T_SYS_ROLEOWNERSHIP.USERID = T_SYS_USER.ID
		</WHERE>
		<GROUP-BY></GROUP-BY>
		<ORDER-BY></ORDER-BY>
	</SELECT>
	
	<!-- 根据用户编号获取与为之绑定的角色列表 -->	
	<SELECT ID="SYSROLEOWNERSHIP_GET_UNROLENAMELIST">
		<QUERY-TABLE>T_SYS_ROLE, T_SYS_ROLEOWNERSHIP</QUERY-TABLE>
		<FIELD>
		T_SYS_ROLE.ID AS id, 
		T_SYS_ROLE.ROLENAME AS roleName
		</FIELD>
		<WHERE>
		T_SYS_ROLEOWNERSHIP.USERID = :userId
		AND
		T_SYS_ROLEOWNERSHIP.ROLEID != T_SYS_ROLE.ID
		AND
		T_SYS_ROLE.ROLETYPE != :sysRoleType
		</WHERE>
		<GROUP-BY></GROUP-BY>
		<ORDER-BY></ORDER-BY>
	</SELECT>
	
	<!-- 根据角色编号获取与未之绑定的用户列表 -->	
	<SELECT ID="SYSROLEOWNERSHIP_GET_UNUSERNAMELIST">
		<QUERY-TABLE>T_SYS_USER, T_SYS_ROLEOWNERSHIP, T_SYS_ROLE</QUERY-TABLE>
		<FIELD>
		T_SYS_USER.ID AS id, 
		T_SYS_USER.USERNAME AS username,
		T_SYS_USER.ORGID AS orgId,
		T_SYS_USER.WORKDEPTID AS deptId
		</FIELD>
		<WHERE>
		T_SYS_ROLEOWNERSHIP.ROLEID = :roleId
		AND
		T_SYS_ROLEOWNERSHIP.USERID != T_SYS_USER.ID
		AND
		T_SYS_ROLEOWNERSHIP.ROLEID = T_SYS_ROLE.ID
		AND
		T_SYS_ROLE.ROLETYPE != :sysRoleType
		</WHERE>
		<GROUP-BY></GROUP-BY>
		<ORDER-BY></ORDER-BY>
	</SELECT>
	
	<!-- 获取当前用户对某模块的过滤设置 -->	
	<SELECT ID="USER_GET_ROWFILTER_SQL">
		<QUERY-TABLE>T_SYS_RowFilter rf, 
					 T_SYS_RowFilterRole rr, 
					 T_SYS_ROLEOWNERSHIP rs
		</QUERY-TABLE>
		<FIELD>
			rf.sqlWhere sqlWhere
		</FIELD>
		<WHERE>
			rf.id=rr.rowFilterId and rr.roleId=rs.roleId 
			and rf.moduleId=:moduleId 
			and rs.userId=:userId
			
		</WHERE>
		<GROUP-BY></GROUP-BY>
		<ORDER-BY>rf.scope desc</ORDER-BY>
	</SELECT>
	
	<!-- 根据用户编号获取其是否有指定角色类型的角色 -->	
	<SELECT ID="GET_ISSYS_BYUSERID">
		<QUERY-TABLE>T_SYS_ROLEOWNERSHIP, T_SYS_ROLE</QUERY-TABLE>
		<FIELD>T_SYS_ROLE.ROLETYPE as roleType</FIELD>
		<WHERE>T_SYS_ROLEOWNERSHIP.USERID = :userId AND T_SYS_ROLEOWNERSHIP.ROLEID = T_SYS_ROLE.ID AND T_SYS_ROLE.ROLETYPE = :roleType</WHERE>
		<GROUP-BY></GROUP-BY>
		<ORDER-BY></ORDER-BY>
	</SELECT>
	
	<!-- 根据角色类型获取相关用户列表 -->	
	<SELECT ID="GET_SYSUSER_BYROLETYPE">
		<QUERY-TABLE>T_SYS_ROLE, T_SYS_ROLEOWNERSHIP, T_SYS_USER</QUERY-TABLE>
		<FIELD>T_SYS_USER.ID AS id, T_SYS_USER.USERNAME AS username, T_SYS_USER.WORKDEPTID AS workdeptid</FIELD>
		<WHERE>T_SYS_ROLE.ROLETYPE = :roleType AND T_SYS_ROLEOWNERSHIP.ROLEID = T_SYS_ROLE.ID AND T_SYS_ROLEOWNERSHIP.USERID = T_SYS_USER.ID</WHERE>
		<GROUP-BY></GROUP-BY>
		<ORDER-BY></ORDER-BY>
	</SELECT>
	
		<!-- 根据帐号获取COCALLNO -->	
	<SELECT ID="GET_COCALLNO_BYACCOUNT">
		<QUERY-TABLE> T_RESOURCE_PERSON_ADDRESS, T_SYS_USER</QUERY-TABLE>
		<FIELD>coCallNo</FIELD>
		<WHERE>T_RESOURCE_PERSON_ADDRESS.personnelId = T_SYS_USER.ID AND T_SYS_USER.account=':account'</WHERE>
		<GROUP-BY></GROUP-BY>
		<ORDER-BY></ORDER-BY>
	</SELECT>
	<!-- 根据帐号获取ImSerachVO对象数组 -->	
	<SELECT ID="GET_IMSERACHVO_BYACCOUNT">
		<QUERY-TABLE> T_RESOURCE_PERSON_ADDRESS, T_SYS_USER,T_SYS_ORG</QUERY-TABLE>
		<FIELD>T_RESOURCE_PERSON_ADDRESS.coCallNo as coCallNo,T_SYS_ORG.NAME as orgName,T_SYS_ORG.ID as orgid,T_SYS_USER.USERNAME as userName,T_SYS_USER.ACCOUNT as account</FIELD>
		<WHERE>T_RESOURCE_PERSON_ADDRESS.personnelId = T_SYS_USER.ID AND T_SYS_USER.account=':account' and T_SYS_USER.ORGID=T_SYS_ORG.ID</WHERE>
		<GROUP-BY></GROUP-BY>
		<ORDER-BY></ORDER-BY>
	</SELECT>
	
	<!-- 根据姓名获取ImSerachVO对象数组 -->	
	<SELECT ID="GET_IMSERACHVO_NAME">
		<QUERY-TABLE> T_RESOURCE_PERSON_ADDRESS, T_SYS_USER,T_SYS_ORG</QUERY-TABLE>
		<FIELD>T_RESOURCE_PERSON_ADDRESS.coCallNo as coCallNo,T_SYS_ORG.NAME as orgName,T_SYS_USER.USERNAME as userName,T_SYS_USER.ACCOUNT as account</FIELD>
		<WHERE>T_RESOURCE_PERSON_ADDRESS.personnelId = T_SYS_USER.ID AND T_SYS_USER.USERNAME  like '%:name%' and T_SYS_USER.ORGID=T_SYS_ORG.ID</WHERE>
		<GROUP-BY></GROUP-BY>
		<ORDER-BY></ORDER-BY>
	</SELECT>
	
	<!-- 获取所有用户信息及其从属机构和部门信息 -->
	<SELECT ID="GET_USER_AND_ORGDEPTNAME">
		<QUERY-TABLE>T_SYS_USER TU, T_SYS_ORG TO1, T_SYS_ORG TO2</QUERY-TABLE>
		<FIELD>TU.ID AS id, TU.ACCOUNT AS account, TU.USERNAME AS username, TO1.NAME AS orgName, TO2.NAME AS workDeptName, TU.SORTNO AS sortNo, TU.USERSTATUS AS userStatus, TU.STATUS AS status</FIELD>
		<WHERE>TU.ORGID = TO1.ID AND TU.WORKDEPTID = TO2.ID</WHERE>
		<ORDER-BY>TO1.CODE ASC, TO2.CODE ASC, TU.SORTNO ASC</ORDER-BY>
	</SELECT>
	
		<!-- 获取指定站点的所有用户信息及其从属机构和部门信息 -->
	<SELECT ID="GET_USER_AND_ORGDEPTNAME_BY_SITEID">
		<QUERY-TABLE>T_SYS_USER TU, T_SYS_ORG TO1, T_SYS_ORG TO2</QUERY-TABLE>
		<FIELD>TU.ID AS id, TU.ACCOUNT AS account, TU.USERNAME AS username, TO1.NAME AS orgName, TO2.NAME AS workDeptName, TU.SORTNO AS sortNo, TU.USERSTATUS AS userStatus, TU.STATUS AS status</FIELD>
		<WHERE>TU.ORGID = TO1.ID AND TU.WORKDEPTID = TO2.ID AND TU.SITEID = :siteId</WHERE>
		<ORDER-BY>TO1.CODE ASC, TO2.CODE ASC, TU.SORTNO ASC</ORDER-BY>
	</SELECT>
	
	
	<!-- 导出人员 -->
	<SELECT ID="GET_USER_DOWN_ORGDEPTNAME">
		<QUERY-TABLE>T_SYS_USER TU left join T_SYS_ORG TO3 on TO3.ID=TU.COMPOSITIONDEPTID, T_SYS_ORG TO1, T_SYS_ORG TO2</QUERY-TABLE>
		<FIELD>
		     TU.ID AS id, TU.ACCOUNT AS account, TU.USERNAME AS username,
		     TU.IDCARD as idCard,TU.SEX as sex,TU.ADMINLEVLE as adminlevle,
		     TU.ALARMBELL as alarmbell,TU.AUTHORIZED as authorized,
		     TU.BIRTHDAY as birthday,TU.BIRTHPLACE as birthplace,
		     TU.EDUCATIONALBG as educationalbg,TU.NATION as nation,
		     TU.POLICENUMBER as policenumber,TU.POLITICAL as political,
		     TU.POSITION as position,TU.POSITIONLEVLE as positionlevle,
		     TU.RECORDSMAGORG as recordsMagOrg,
		     TU.NICKNAME as nickname,TU.WORKNUMBER as workNumber,
		     TO1.NAME AS orgName, TO2.NAME AS workDeptName,TO3.NAME as composName,
		     TU.SORTNO AS sortNo, TU.COCALLSTATUS AS cocallStatus, 
		     TU.USERSTATUS AS userStatus, TU.STATUS AS status
		</FIELD>
		<WHERE>TU.ORGID = TO1.ID AND TU.WORKDEPTID = TO2.ID </WHERE>
		<ORDER-BY>TO1.CODE ASC, TO2.CODE ASC, TU.SORTNO ASC</ORDER-BY>
	</SELECT>
	
	<!-- 根据资源编码获取拥有其资源的所有角色 -->
	<SELECT ID="GET_ROLENAME_FOR_RESOURCECODE">
		<QUERY-TABLE>T_SYS_ALLOTPOWER TA, T_SYS_ROLE TR, T_SYS_RESOURCE TRC</QUERY-TABLE>
		<FIELD>TA.ID AS id, TA.RESOURCECODE AS resourceCode, TR.ROLENAME AS roleName</FIELD>
		<WHERE>TA.ROLEID = TR.ID AND TRC.CODE = ':code' AND TA.RESOURCECODE = TRC.TXNCODE</WHERE>
	</SELECT>
	
	<!-- 根据资源编码获取拥有其资源的所有用户-->
	<SELECT ID="GET_USERNAME_FOR_RESOURCECODE">
		<QUERY-TABLE>T_SYS_ALLOTPOWER TA, T_SYS_ROLEOWNERSHIP TRS, T_SYS_USER TU, T_SYS_ROLE TR, T_SYS_RESOURCE TRC</QUERY-TABLE>
		<FIELD>distinct TU.ID AS id, TU.USERNAME AS username, TU.SORTNO AS sortNo</FIELD>
		<WHERE>TA.ROLEID = TR.ID AND TA.ROLEID = TRS.ROLEID AND TRS.USERID = TU.ID AND TRC.CODE = ':code' AND TA.RESOURCECODE = TRC.TXNCODE</WHERE>
		<ORDER-BY>TU.SORTNO ASC, TU.ID ASC</ORDER-BY>
	</SELECT>
	
	<!-- 获取根据用户ID和站点ID获取站点数据 -->
	<SELECT ID="GET_SHOSITE">
		<QUERY-TABLE>T_SHO_SITE</QUERY-TABLE>
		<FIELD>id,name</FIELD>
		<WHERE>status=1</WHERE>
		<ORDER-BY>id ASC</ORDER-BY>
	</SELECT>
	
	<!-- 获取所有启动了的站点数据 -->
	<SELECT ID="GET_T_SYS_SITEOWNERSHIP">
		<QUERY-TABLE>T_SYS_ROLEOWNERSHIP U,T_sys_SITEROLE SR</QUERY-TABLE>
		<FIELD> DISTINCT U.USERID,SR.siteId</FIELD>
		<WHERE>U.ROLEID = SR.ROLEID AND U.USERID=:userId and SR.siteId=:siteId</WHERE>
		<ORDER-BY></ORDER-BY>
	</SELECT>
	<!--<SELECT ID="GET_T_SYS_SITEOWNERSHIP">
		<QUERY-TABLE>T_SYS_SITEOWNERSHIP</QUERY-TABLE>
		<FIELD>id,userId,siteId</FIELD>
		<WHERE>userId=:userId and siteId=:siteId</WHERE>
		<ORDER-BY>id ASC</ORDER-BY>
	</SELECT>
	
	--><!-- 获取所有启动了的站点数据,并去掉重复数据 -->
	<SELECT ID="GET_SHOSITE_NO_DISTINCT">
		<QUERY-TABLE>T_SHO_SITE S,T_SYS_ROLEOWNERSHIP U,T_sys_SITEROLE SR</QUERY-TABLE>
		<FIELD>DISTINCT S.NAME AS name ,S.ID AS id</FIELD>
		<WHERE>S.STATUS=1  and SR.SITEID=S.ID and sr.roleId=u.roleId and u.userId=:userId</WHERE>
		<ORDER-BY>S.ID ASC</ORDER-BY>
	</SELECT>
	<!--<SELECT ID="GET_SHOSITE_NO_DISTINCT">
		<QUERY-TABLE>T_SHO_SITE S,T_SYS_SITEOWNERSHIP SOS</QUERY-TABLE>
		<FIELD>DISTINCT S.NAME AS name,S.ID AS id</FIELD>
		<WHERE>S.STATUS=1 and SOS.SITEID=S.ID</WHERE>
		<ORDER-BY>S.ID ASC</ORDER-BY>
	</SELECT>
	
	--><!-- 获取用户的的角色类型-->
	<SELECT ID="GET_ROLE_FOR_ROLEOWNERSHIP">
		<QUERY-TABLE>T_SYS_ROLE R, T_SYS_ROLEOWNERSHIP RW</QUERY-TABLE>
		<FIELD>R.roleName,R.roleType,RW.userId,RW.roleId</FIELD>
		<WHERE>RW.userId=:userId AND RW.roleId=R.id</WHERE>
		<ORDER-BY>RW.userId ASC</ORDER-BY>
	</SELECT>
	
	<!-- 根据用户编号获取与之绑定的站点列表 -->	
	<SELECT ID="SYSSITEOWNERSHIP_GET_SITENAMELIST">
		<QUERY-TABLE>T_SHO_SITE, T_SYS_SITEOWNERSHIP</QUERY-TABLE>
		<FIELD>
		T_SYS_SITEOWNERSHIP.ID AS id, 
		T_SYS_SITEOWNERSHIP.USERID AS userId,
		T_SYS_SITEOWNERSHIP.SITEID AS siteId,
		T_SHO_SITE.NAME AS siteName
		</FIELD>
		<WHERE>
		T_SYS_SITEOWNERSHIP.USERID = :userId
		AND
		T_SYS_SITEOWNERSHIP.SITEID = T_SHO_SITE.ID
		</WHERE>
		<GROUP-BY></GROUP-BY>
		<ORDER-BY></ORDER-BY>
	</SELECT>
	
	<!-- 根据站点编号获取与之绑定的用户列表 -->	
	<SELECT ID="SYSSITEOWNERSHIP_GET_USERNAMELIST">
		<QUERY-TABLE>T_SYS_USER, T_SYS_SITEOWNERSHIP</QUERY-TABLE>
		<FIELD>
		T_SYS_SITEOWNERSHIP.ID AS id, 
		T_SYS_SITEOWNERSHIP.USERID AS userId,
		T_SYS_SITEOWNERSHIP.SITEID AS siteId,
		T_SYS_USER.USERNAME AS userName,
		T_SYS_USER.ORGID AS orgId,
		T_SYS_USER.WORKDEPTID AS deptId
		</FIELD>
		<WHERE>
		T_SYS_SITEOWNERSHIP.SITEID = :siteId
		AND
		T_SYS_SITEOWNERSHIP.USERID = T_SYS_USER.ID
		</WHERE>
		<GROUP-BY></GROUP-BY>
		<ORDER-BY></ORDER-BY>
	</SELECT>
	
	<!-- 根据角色编号获取与之绑定的站点列表 -->	
	<SELECT ID="SYSSITEROLE_GET_SITENAMELIST">
		<QUERY-TABLE>T_SHO_SITE, T_SYS_SITEROLE</QUERY-TABLE>
		<FIELD>
		T_SYS_SITEROLE.ID AS id, 
		T_SYS_SITEROLE.ROLEID AS roleId,
		T_SYS_SITEROLE.SITEID AS siteId,
		T_SHO_SITE.NAME AS siteName
		</FIELD>
		<WHERE>
		T_SYS_SITEROLE.ROLEID = :roleId
		AND
		T_SYS_SITEROLE.SITEID = T_SHO_SITE.ID
		</WHERE>
		<GROUP-BY></GROUP-BY>
		<ORDER-BY></ORDER-BY>
	</SELECT>
	
</QUERY>